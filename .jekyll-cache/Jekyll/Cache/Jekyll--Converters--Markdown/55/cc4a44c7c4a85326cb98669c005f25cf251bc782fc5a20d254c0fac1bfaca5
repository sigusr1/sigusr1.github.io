I"›
<p>æœ¬æ–‡ä»‹ç»å¦‚ä½•å»æ‰å®__FILE__çš„è·¯å¾„ï¼Œåªæ˜¾ç¤ºæ–‡ä»¶åã€‚</p>

<p>å®__FILE__å±•å¼€åä¼šå¸¦æœ‰è·¯å¾„ä¿¡æ¯ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;

int main()
{
	printf("file_name:%s\n", __FILE__);
	return 0;
}
</code></pre></div></div>

<p>å¦‚æœMakefileå†…å®¹å¦‚ä¸‹:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CFALG = -Wall

all: /home/helloworld/test.c
	gcc $(CFALG) $&lt; -o test
</code></pre></div></div>

<p>ç¼–è¯‘è¿è¡Œï¼Œç¨‹åºè¾“å‡ºä¸ºï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>file_name:/home/helloworld/test.c
</code></pre></div></div>

<p>ä¸ºäº†ä¸è®©å®_<em>FILE__å¸¦æœ‰è·¯å¾„ä¿¡æ¯ï¼Œå¯ä»¥åœ¨Makefileä¸­é‡å®šä¹‰å®__FILE_</em>ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CFALG = -Wall
CFALG += -U__FILE__ -D__FILE__='"$(subst $(dir $&lt;),,$&lt;)"'

all: /home/helloworld/test.c
	gcc $(CFALG) $&lt; -o test
</code></pre></div></div>

<p>ç¼–è¯‘è¿è¡Œï¼Œç¨‹åºè¾“å‡ºä¸ºï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>file_name:test.c
</code></pre></div></div>

<p>å–æ¶ˆå®_<em>FILE__ä¼šäº§ç”Ÿç¼–è¯‘è­¦å‘Šï¼Œå¦‚æœä¸æƒ³äº§ç”Ÿè­¦å‘Šï¼Œå¯ä»¥è€ƒè™‘æ–°å»ºä¸€ä¸ªå®ï¼Œ æ¯”å¦‚__FILENAME_</em>ã€‚</p>
:ET